<rpt-header btnok ="text:'Tính'"></rpt-header>
<div class="row">
<div class="col-md-3 condition-report"   ng-show='condition_show'>
	<form name='form' novalidate class='form-horizontal'>
		<fieldset><legend>Điều kiện lọc</legend>
			<div class='form-group'>
				<label class='control-label'>Từ tháng</label>
				<div>
					<select ng-model="condition.tu_thang" class="form-control" ng-options ="thang for thang in thangs" ng-required="true">
					</select>
					
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label'>Đến tháng</label>
				<div>
					<select ng-model="condition.den_thang" class="form-control" ng-options ="thang for thang in thangs" ng-required="true">
					</select>
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label'>Năm</label>
				<div>
					<select ng-model="condition.nam" class="form-control" ng-options ="nam for nam in nams" ng-required="true">
					</select>
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label'>Vật tư</label>
				<div>
					<ng-typeahead
						module="dmvt" fields ="ma_vt,ten_vt" field-model="ten_vt" field-label="ma_vt"
						ng-model='condition.ten_vt' label="condition.ma_vt">
					</ng-typeahead>
				</div>
				<label>{{condition.ten_vt}}</label>
			</div>
			<div class='form-group'>
				<label class='control-label'>Kho</label>
				<div >
					<ng-typeahead
						module="dmkho" fields ="ma_kho,ten_kho" field-model="ten_kho" field-label="ma_kho"
						ng-model='condition.ten_kho' label="condition.ma_kho">
					</ng-typeahead>
				</div>
			</div>
			<div class='form-group text-left'>
				<a class="btn btn-danger" ng-click='getData()' ng-disabled='form.$invalid' ng-show='btnok_show'>Tính</a>
				<a class="btn btn-default" ng-click='print()'  ng-disabled='!data' ng-show='btnprint_show'>In</a>
				<a class="btn btn-default" ng-click='exportExcel()' ng-show='btnexcel_show'>Xuất excel</a>
			</div>
		</fieldset>
	</form>
	
	
</div>
<div infinite-scroll="loadPage()" infinite-scroll-distance="3"  ng-class="condition_show?'table-responsive col-sm-9 table-report':'table-responsive col-sm-12 table-report'"  id ='exportable'>
	<table class='table  table-striped  table-hover table-bordered'>
		<tr>
			<th>Mã vật tư</th>
			<th>Tên vật tư</th>
			<th>Tồn đầu</th>
			<th>Dư đầu</th>
			<th>SL nhập</th>
			<th>Tiền nhập</th>
			<th>Tổng SL</th>
			<th>Tổng tiền</th>
			<th>Giá trung bình</th>			
		</tr>
		<tr ng-repeat='r in data|limitTo:limit:begin'  ng-style='r.style'>
			<td>
				{{::r.ma_vt}}
			</td>
			<td>
				{{::r.ten_vt}}
			</td>
			<td>
				{{::r.ton_dau|number:2}}
			</td>
			<td>
				{{::r.du_dau|number:0}}
			</td>
			<td>
				{{::r.sl_nhap|number:2}}
			</td>
			<td>
				{{::r.tien_nhap|number:0}}
			</td>
			<td>
				{{::r.tong_sl|number:2}}
			</td>
			<td>
				{{::r.tong_tien|number:0}}
			</td>
			<td>
				{{::r.gia|number:0}}
			</td>
			
		</tr>
	</table>
</div>
</div>