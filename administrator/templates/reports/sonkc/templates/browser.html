<rpt-header></rpt-header>
<div class="row">
	<form name='form' novalidate class='form-horizontal col-sm-3 condition-report' ng-show="condition_show">
		<fieldset><legend>Điều kiện lọc</legend>
			<div class='form-group'>
				<label>Từ ngày <span class="required">*</span></label>
				<div>
					<ng-datepicker ng-model='condition.tu_ngay' ng-required='true'></ng-datepicker>
				</div>
				
				
			</div>
			<div class='form-group'>
				
				<label>Đến ngày <span class="required">*</span></label>
				<div>
					<ng-datepicker ng-model='condition.den_ngay' ng-required='true'></ng-datepicker>
				</div>
			</div>
			<div class='form-group'>
				<label>Số chứng từ</label>
				<div >
					<input type='text' class='form-control' ng-model='condition.so_ct'/>
				</div>
			
			
			</div>
			<div class='form-group'>
				<label>Đơn vị cơ sở</label>
				<div>
					 <ng-selector
						module="dvcs" fields ="_id,ten_dvcs" field-model="_id" field-label="ten_dvcs"
						options ="item._id as item.ten_dvcs for item in items"
						ng-model='condition.ma_dvcs' empty-yn='true'>
					</ng-selector>
				</div>
			
			</div>
			<div class='form-group text-left'>
				<a class="btn btn-danger" ng-click='getData()' ng-disabled='form.$invalid' ng-show='btnok_show'>Xem</a>
				<a class="btn btn-default" ng-click='print()'  ng-disabled='!data' ng-show='btnprint_show'>In</a>
				<a class="btn btn-default" ng-click='exportExcel()' ng-show='btnexcel_show'>Xuất excel</a>
			</div>
		</fieldset>
	</form>
	<div infinite-scroll="loadPage()" infinite-scroll-distance="3" ng-class="condition_show?'table-responsive col-sm-9 table-report':'table-responsive col-sm-12 table-report'"  id ='exportable'>
		<table class='table  table-striped  table-hover table-bordered'>
			<tr>
				<th><a ng-click="reverse=!reverse;order('ngay_ct',reverse)">Ngày chứng từ</a></th>
				<th><a ng-click="reverse=!reverse;order('so_ct',reverse)">Số chứng từ</a></th>
				<th><a ng-click="reverse=!reverse;order('dien_giai',reverse)">Diễn giải</a></th>
				<th><a ng-click="reverse=!reverse;order('tk',reverse)">Tài khoản</a></th>
				<th><a ng-click="reverse=!reverse;order('ten_tk',reverse)">Tên tài khoản</a></th>
				<th><a ng-click="reverse=!reverse;order('ps_no',reverse)">Phát sinh nợ</a></th>
				<th><a ng-click="reverse=!reverse;order('ps_co',reverse)">Phát sinh có</a></th>
				<th><a ng-click="reverse=!reverse;order('ma_kh',reverse)">Mã khách</a></th>
				<th><a ng-click="reverse=!reverse;order('ten_kh',reverse)">Tên khách</a></th>
			</tr>
			<tr ng-repeat='r in data|limitTo:limit:begin'  style='cursor:pointer'  ng-click='viewVoucher(r.ma_ct,r.id_ct)'  ng-class="r.bold?'cbold':'cnormal'">
				<td>
					{{::r.ngay_ct|date:'dd/MM/yyyy'}}
				</td>
				<td>
					{{::r.so_ct}}
				</td>
				<td>
					{{::r.dien_giai}}
				</td>
				<td>
					{{::r.tk}}
				</td>
				<td>
					{{::r.ten_tk}}
				</td>
				<td>
					{{::r.ps_no|number}}
				</td>
				<td>
					{{::r.ps_co|number}}
				</td>
				<td>
					{{::r.ma_kh}}
				</td>
				<td>
					{{::r.ten_kh}}
					
				</td>
			</tr>
		</table>
       
	</div>
	<!--<div ng-class="condition_show?'table-responsive col-sm-9 table-report':'table-responsive col-sm-12 table-report'"  id ='exportable'>
         <report-table data='data' drill-down = 'viewVoucher($ma_ct,$id_ct)' table-info='tableInfo'></report-table>
    </div>-->
    
</div>